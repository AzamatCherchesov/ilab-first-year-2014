

# GIT #

## Основы GIT ##

Git - распределенная система управления версиями (Distributed Version Control System). Каждый разработчик хранит на своем компьютере полную копию репозитория, таким образом, в общем случае система не нуждается в наличии центрального репозитория. В нашем случае центральным репозиторием является репозиторий на code.google.com. Однако, при потере доступа к этому ресурсу, мы все равно сможем работать над проектом, выбрав другой центральный репозиторий или вообще отказавшись от него. В командном языке присутствуют две команды, отличающие распределенную систему от централизованной: команда получения изменений от удаленного компьютера (pull) и передачи своих изменений на удаленный компьютер (push). Передача своих изменений на чужой репозиторий (push) завершается удачно лишь при отсутствии конфликтов, иначе слияние двух разных версий репозитория и разрешение конфликтов происходит свое репозитории. Иными словами, перед тем, как сделать push, необходимо выполнить pull и разрешить все конфликты.

Каждый файл в рабочей директории может быть в двух состояниях: под контролем версий (tracked) и без контроля версий (untracked). Файлы под контролем версий могут быть трех типов: актуальный (unmodified), измененный (modified) и с индексированными изменениями (staged). Жизненный цикл файлов изображен на рисунке.

![http://wiki.ilab-first-year-2014.googlecode.com/git/img/for_wiki.png](http://wiki.ilab-first-year-2014.googlecode.com/git/img/for_wiki.png)

## Установка GIT ##

### Windows ###

Скачать Git для Windows [отсюда](http://git-scm.com/download/win).

Скачать программу-инструмент для просмотра diffов и слияний [отсюда](http://sourceforge.net/projects/kdiff3/files/kdiff3/0.9.98/).

Скачать графический интерфейс для работы с git [отсюда](https://code.google.com/p/gitextensions/downloads/list) (Git Extensions 2.47.3 Windows installer).
Можно сразу пройти по третьей ссылке и скачать Git Extensions 2.47.3 Windows installer, complete including MSysGit and KDiff3.

Далее необходимо запустить Git Extensions, заполнить имя пользователя (фамилия в английской транслитерации) и e-mail (основной), в графе "конец строки" выбрать первый пункт, кодировка Unicode(UTF-8).

Теперь если в проводнике щелкнуть правой кнопкой мыши по файлу или директории, можно увидеть меню Git Extensions. Выберите директорию, в которой вы хотите хранить репозиторий, например C:\Users\$UserName$\git, нажмите правой кнопкой мыши по пустому месту внутри папки и выберите GitExt Clone.

Внешний репозиторий: https://code.google.com/p/ilab-first-year-2014

Назначение: текущая директория

Подкаталог: он сам предложит

Ветвь: master

В папке C:\Users\$UserName$ (вне зависимости от расположения вашего локального репозитория) создайте файл `_`netrc следующего содержания:

machine code.google.com

login ваш@е-мэйл на gmail

password пароль (необходимо взять [отсюда](https://code.google.com/hosting/settings))

Теперь каждый раз, когда GITу потребуется ваш логин и пароль, он автоматически их подхватит из этого файла.

Создайте в репозитории персональную папку, расположите там произвольный текстовый файл и попробуйте его "доставить" на googlecode. Сначала делаете git add, затем git commit (в поле "сообщение коммита" введите что-нибудь осмысленное, например making my personal directory). Теперь нужно сделать git pull и разрешить все конфликты при слиянии, но сейчас их быть не должно :) Только после всего этого делается git push и ваша папка отправляется на googlecode. Ее наличие можно проверить в веб-браузере. Если git запросил логин и пароль, значит, вы неправильно создали файл `_`netrc. Все вышеуказанные команды доступны из графического интерфейса Git Extensions в проводнике по щелчку правой кнопкой мыши.

### Linux (Ubuntu 12.04) ###

```
sudo apt-get install git-core
```

После установки в терминале нужно написать и запустить еще две команды:
```
git config --global user.name "Your Name"
git config --global user.email you@example.com
```
В качестве имени пользователя указать свою фамилию в английской транслитерации, email указать основной.

В домашней папке необходимо создать файл ".netrc" cледующего содержания:

machine code.google.com

login ваш@е-мэйл на gmail

password пароль (необходимо взять [отсюда](https://code.google.com/hosting/settings))

Теперь каждый раз, когда GITу потребуется ваш логин и пароль, он автоматически их подхватит из этого файла.

Клонируйте репозиторий себе на компьютре, для этого выберите директорию для репозитория (например, ~/Documents/git) и из этой папке в терминале запустите:

```
git clone https://code.google.com/p/ilab-first-year-2014/
```

Создайте в репозитории персональную папку, расположите там произвольный текстовый файл и попробуйте его "доставить" на googlecode.

Внесите файл под контроль версий:
```
git add имя_файла
```

Теперь файл под контролем версий и, так как в нем не было изменений, он проиндексирован правильно, и его можно зафиксировать в локальном репозитории:
```
git commit имя_файла -m "сообщение коммита"
```
В качестве сообщения коммита введите что-нибудь осмысленное, например, making my personal directory.

Теперь нужно подгрузить все изменения из внешнего репозитория и разрешить все конфликты, если таковые имеются. В нашем случае их быть не должно.
```
git pull
```

Наконец, новую папку нужно отправить во внешний репозиторий.
```
git push
```
Если git запросил логин и пароль, значит, вы неправильно создали файл .netrc.